<!DOCTYPE html> <!-- HTML5文档类型声明，告诉浏览器这是HTML5文档 -->
<html lang="zh-CN"> <!-- HTML根元素，lang属性指定页面语言为中文 -->

<head> <!-- 头部区域，包含页面元数据 -->
    <meta charset="UTF-8"> <!-- 设置字符编码为UTF-8，支持中文显示 -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- 响应式设计，设置视口宽度等于设备宽度 -->
    <title>商城 | TechNova</title> <!-- 页面标题，显示在浏览器标签页 -->
    <link rel="stylesheet" href="css/style-base.css"> <!-- 引用基础样式文件，包含通用样式 -->
    <link rel="stylesheet" href="css/style-shop.css"> <!-- 引用商城页面专用样式文件 -->
</head> <!-- 头部区域结束 -->

<body> <!-- 页面主体开始 -->

    <!-- ========== 导航栏 ========== --> <!-- HTML注释：导航栏区域标识 -->
    <nav class="navbar"> <!-- 导航栏容器，使用navbar样式类 -->
        <div class="container nav-content"> <!-- 导航内容容器，限制最大宽度并居中 -->
            <a href="index-simple.html" class="logo">TechNova</a> <!-- 网站Logo链接，点击返回首页 -->

            <div class="nav-menu" id="nav-menu"> <!-- 导航菜单容器，设置ID用于JavaScript控制 -->
                <a href="index-simple.html">首页</a> <!-- 首页链接 -->
                <a href="shop-simple.html" class="active">商城</a> <!-- 商城页面链接，active类表示当前页面 -->
                <a href="about-simple.html">关于我们</a> <!-- 关于我们页面链接 -->
            </div> <!-- 导航菜单容器结束 -->
            <div class="nav-right"> <!-- 右侧功能区容器 -->
                <div class="hamburger" onclick="toggleMenu()"> <!-- 汉堡菜单按钮，点击时调用toggleMenu函数 -->
                    <span></span> <!-- 汉堡菜单第一条线 -->
                    <span></span> <!-- 汉堡菜单第二条线 -->
                    <span></span> <!-- 汉堡菜单第三条线 -->
                </div> <!-- 汉堡菜单按钮结束 -->
                <a href="login-simple.html">登录</a> <!-- 登录页面链接 -->
                <a href="cart-simple.html"> <!-- 购物车页面链接 -->
                    购物车 <span class="cart-count" id="cart-count">0</span> <!-- 购物车文字和数量显示，ID用于JavaScript更新数量 -->
                </a> <!-- 购物车链接结束 -->
            </div> <!-- 右侧功能区容器结束 -->
        </div> <!-- 导航内容容器结束 -->
    </nav> <!-- 导航栏容器结束 -->

    <div class="container"> <!-- 主要内容容器，限制最大宽度并居中 -->

        <!-- ========== 视频展示区 (HTML5 video标签) ========== --> <!-- HTML注释：视频展示区域标识，标注使用HTML5视频标签 -->
        <div class="video-section"> <!-- 视频展示区域容器 -->
            <h2>产品视频展示</h2> <!-- 二级标题，视频区域标题 -->
            <div class="video-container"> <!-- 视频容器，用于控制视频样式 -->
                <!-- HTML5视频标签 课本第6章 --> <!-- HTML注释：说明这是HTML5视频标签的使用 -->
                <video id="product-video" controls poster="photos/1.jpg"> <!-- HTML5视频元素，设置ID、显示控制条、设置封面图片 -->
                    <source src="videos/1.mp4" type="video/mp4"> <!-- 视频源文件，指定MP4格式 -->
                    您的浏览器不支持视频播放 <!-- 浏览器不支持视频时显示的文字 -->
                </video> <!-- 视频元素结束 -->
            </div> <!-- 视频容器结束 -->
        </div> <!-- 视频展示区域容器结束 -->

        <!-- 商城头部 --> <!-- HTML注释：商城头部区域说明 -->
        <div class="shop-header"> <!-- 商城头部容器 -->
            <h2>所有商品</h2> <!-- 二级标题，商品区域标题 -->
            <!-- HTML5表单 课本第4章 --> <!-- HTML注释：说明这是HTML5表单元素的使用 -->
            <input type="text" id="search-input" placeholder="搜索商品..." class="search-input" oninput="searchProducts()"> <!-- 搜索输入框，设置类型为文本、ID、占位符文字、样式类，输入时调用searchProducts函数 -->
        </div> <!-- 商城头部容器结束 -->

        <!-- 商品网格 --> <!-- HTML注释：商品网格区域说明 -->
        <div class="product-grid" id="product-list"> <!-- 商品网格容器，使用CSS Grid布局，设置ID用于JavaScript操作 -->

            <!-- 商品1 --> <!-- HTML注释：第一个商品卡片 -->
            <div class="product-card" data-name="quantum x 智能手机" data-category="手机"> <!-- 商品卡片容器，设置data属性用于搜索功能 -->
                <a href="product-1-simple.html"> <!-- 商品图片链接，点击跳转到商品详情页 -->
                    <img src="photos/1.jpg" alt="手机" class="card-img"> <!-- 商品图片，alt属性提供替代文字 -->
                </a> <!-- 商品图片链接结束 -->
                <div class="card-body"> <!-- 商品卡片内容区域 -->
                    <span class="category-tag">手机</span> <!-- 商品分类标签 -->
                    <a href="product-1-simple.html" class="card-title">Quantum X 智能手机</a> <!-- 商品标题链接 -->
                    <div class="card-bottom"> <!-- 商品卡片底部区域，包含价格和按钮 -->
                        <span class="card-price">¥5,999</span> <!-- 商品价格显示 -->
                        <button class="card-btn"
                            onclick="addToCart(1, 'Quantum X 智能手机', 5999, '手机', 'photos/1.jpg')">加入购物车</button> <!-- 加入购物车按钮，点击时调用addToCart函数并传递商品信息 -->
                    </div> <!-- 商品卡片底部区域结束 -->
                </div> <!-- 商品卡片内容区域结束 -->
            </div> <!-- 商品卡片容器结束 -->

            <!-- 商品2 --> <!-- HTML注释：第二个商品卡片 -->
            <div class="product-card" data-name="nebula 无线耳机" data-category="音频"> <!-- 商品卡片容器，设置data属性用于搜索功能 -->
                <a href="product-2-simple.html"> <!-- 商品图片链接，点击跳转到商品详情页 -->
                    <img src="photos/2.jpg" alt="耳机" class="card-img"> <!-- 商品图片，alt属性提供替代文字 -->
                </a> <!-- 商品图片链接结束 -->
                <div class="card-body"> <!-- 商品卡片内容区域 -->
                    <span class="category-tag">音频</span> <!-- 商品分类标签 -->
                    <a href="product-2-simple.html" class="card-title">Nebula 无线耳机</a> <!-- 商品标题链接 -->
                    <div class="card-bottom"> <!-- 商品卡片底部区域，包含价格和按钮 -->
                        <span class="card-price">¥1,299</span> <!-- 商品价格显示 -->
                        <button class="card-btn"
                            onclick="addToCart(2, 'Nebula 无线耳机', 1299, '音频', 'photos/2.jpg')">加入购物车</button> <!-- 加入购物车按钮，点击时调用addToCart函数并传递商品信息 -->
                    </div> <!-- 商品卡片底部区域结束 -->
                </div> <!-- 商品卡片内容区域结束 -->
            </div> <!-- 商品卡片容器结束 -->

            <!-- 商品3 --> <!-- HTML注释：第三个商品卡片 -->
            <div class="product-card" data-name="titan 笔记本电脑" data-category="电脑"> <!-- 商品卡片容器，设置data属性用于搜索功能 -->
                <a href="product-3-simple.html"> <!-- 商品图片链接，点击跳转到商品详情页 -->
                    <img src="photos/3.jpg" alt="笔记本" class="card-img"> <!-- 商品图片，alt属性提供替代文字 -->
                </a> <!-- 商品图片链接结束 -->
                <div class="card-body"> <!-- 商品卡片内容区域 -->
                    <span class="category-tag">电脑</span> <!-- 商品分类标签 -->
                    <a href="product-3-simple.html" class="card-title">Titan 笔记本电脑</a> <!-- 商品标题链接 -->
                    <div class="card-bottom"> <!-- 商品卡片底部区域，包含价格和按钮 -->
                        <span class="card-price">¥12,999</span> <!-- 商品价格显示 -->
                        <button class="card-btn"
                            onclick="addToCart(3, 'Titan 笔记本电脑', 12999, '电脑', 'photos/3.jpg')">加入购物车</button> <!-- 加入购物车按钮，点击时调用addToCart函数并传递商品信息 -->
                    </div> <!-- 商品卡片底部区域结束 -->
                </div> <!-- 商品卡片内容区域结束 -->
            </div> <!-- 商品卡片容器结束 -->

            <!-- 商品4 --> <!-- HTML注释：第四个商品卡片 -->
            <div class="product-card" data-name="4k 高清相机" data-category="摄影"> <!-- 商品卡片容器，设置data属性用于搜索功能 -->
                <a href="product-4-simple.html"> <!-- 商品图片链接，点击跳转到商品详情页 -->
                    <img src="photos/4.jpg" alt="相机" class="card-img"> <!-- 商品图片，alt属性提供替代文字 -->
                </a> <!-- 商品图片链接结束 -->
                <div class="card-body"> <!-- 商品卡片内容区域 -->
                    <span class="category-tag">摄影</span> <!-- 商品分类标签 -->
                    <a href="product-4-simple.html" class="card-title">4K 高清相机</a> <!-- 商品标题链接 -->
                    <div class="card-bottom"> <!-- 商品卡片底部区域，包含价格和按钮 -->
                        <span class="card-price">¥8,500</span> <!-- 商品价格显示 -->
                        <button class="card-btn"
                            onclick="addToCart(4, '4K 高清相机', 8500, '摄影', 'photos/4.jpg')">加入购物车</button> <!-- 加入购物车按钮，点击时调用addToCart函数并传递商品信息 -->
                    </div> <!-- 商品卡片底部区域结束 -->
                </div> <!-- 商品卡片内容区域结束 -->
            </div> <!-- 商品卡片容器结束 -->

            <!-- 商品5 --> <!-- HTML注释：第五个商品卡片 -->
            <div class="product-card" data-name="horizon 智能手表" data-category="穿戴"> <!-- 商品卡片容器，设置data属性用于搜索功能 -->
                <a href="product-5-simple.html"> <!-- 商品图片链接，点击跳转到商品详情页 -->
                    <img src="photos/5.jpg" alt="手表" class="card-img"> <!-- 商品图片，alt属性提供替代文字 -->
                </a> <!-- 商品图片链接结束 -->
                <div class="card-body"> <!-- 商品卡片内容区域 -->
                    <span class="category-tag">穿戴</span> <!-- 商品分类标签 -->
                    <a href="product-5-simple.html" class="card-title">Horizon 智能手表</a> <!-- 商品标题链接 -->
                    <div class="card-bottom"> <!-- 商品卡片底部区域，包含价格和按钮 -->
                        <span class="card-price">¥1,999</span> <!-- 商品价格显示 -->
                        <button class="card-btn"
                            onclick="addToCart(5, 'Horizon 智能手表', 1999, '穿戴', 'photos/5.jpg')">加入购物车</button> <!-- 加入购物车按钮，点击时调用addToCart函数并传递商品信息 -->
                    </div> <!-- 商品卡片底部区域结束 -->
                </div> <!-- 商品卡片内容区域结束 -->
            </div> <!-- 商品卡片容器结束 -->

            <!-- 商品6 --> <!-- HTML注释：第六个商品卡片 -->
            <div class="product-card" data-name="echo 智能音箱" data-category="家居"> <!-- 商品卡片容器，设置data属性用于搜索功能 -->
                <a href="product-6-simple.html"> <!-- 商品图片链接，点击跳转到商品详情页 -->
                    <img src="photos/6.jpg" alt="音箱" class="card-img"> <!-- 商品图片，alt属性提供替代文字 -->
                </a> <!-- 商品图片链接结束 -->
                <div class="card-body"> <!-- 商品卡片内容区域 -->
                    <span class="category-tag">家居</span> <!-- 商品分类标签 -->
                    <a href="product-6-simple.html" class="card-title">Echo 智能音箱</a> <!-- 商品标题链接 -->
                    <div class="card-bottom"> <!-- 商品卡片底部区域，包含价格和按钮 -->
                        <span class="card-price">¥699</span> <!-- 商品价格显示 -->
                        <button class="card-btn"
                            onclick="addToCart(6, 'Echo 智能音箱', 699, '家居', 'photos/6.jpg')">加入购物车</button> <!-- 加入购物车按钮，点击时调用addToCart函数并传递商品信息 -->
                    </div> <!-- 商品卡片底部区域结束 -->
                </div> <!-- 商品卡片内容区域结束 -->
            </div> <!-- 商品卡片容器结束 -->

        </div> <!-- 商品网格容器结束 -->

    </div>

    <footer class="footer">
        <p>© 2025 TechNova 科技商城 </p>
    </footer>

    <div id="toast-container"></div>

    <script> /* JavaScript代码开始 */
        // ===== 汉堡菜单切换 ===== /* JavaScript单行注释：汉堡菜单功能说明 */
        function toggleMenu() { /* 定义汉堡菜单切换函数 */
            var menu = document.getElementById('nav-menu'); /* 获取导航菜单元素，通过ID选择器 */
            menu.classList.toggle('active'); /* 切换菜单的active类，用于显示/隐藏菜单 */
        } /* 汉堡菜单切换函数结束 */

        // ===== 搜索商品功能 ===== /* JavaScript单行注释：搜索商品功能说明 */
        function searchProducts() { /* 定义搜索商品函数 */
            // 获取搜索关键词 /* JavaScript单行注释：获取用户输入的搜索关键词 */
            var keyword = document.getElementById('search-input').value.toLowerCase(); /* 获取搜索输入框的值并转换为小写 */

            // 获取所有商品卡片 /* JavaScript单行注释：获取页面上所有商品卡片元素 */
            var cards = document.querySelectorAll('.product-card'); /* 使用CSS选择器获取所有商品卡片元素 */

            // 遍历每个卡片，判断是否显示 /* JavaScript单行注释：循环检查每个商品是否匹配搜索条件 */
            for (var i = 0; i < cards.length; i++) { /* 遍历所有商品卡片 */
                var name = cards[i].getAttribute('data-name'); /* 获取商品卡片的data-name属性值 */
                var category = cards[i].getAttribute('data-category'); /* 获取商品卡片的data-category属性值 */

                // 如果名称或分类包含关键词，显示；否则隐藏 /* JavaScript单行注释：根据搜索结果显示或隐藏商品 */
                if (name.indexOf(keyword) !== -1 || category.indexOf(keyword) !== -1) { /* 检查商品名称或分类是否包含关键词 */
                    cards[i].style.display = 'block'; /* 如果匹配则显示商品卡片 */
                } else { /* 如果不匹配 */
                    cards[i].style.display = 'none'; /* 隐藏商品卡片 */
                } /* 条件判断结束 */
            } /* 循环结束 */
        } /* 搜索商品函数结束 */

        // ===== 添加到购物车 ===== /* JavaScript单行注释：添加商品到购物车功能说明 */
        function addToCart(id, name, price, category, image) { /* 定义添加商品到购物车函数，接收商品信息参数 */
            var cart = JSON.parse(localStorage.getItem('cart')) || []; /* 从localStorage获取购物车数据，如果为空则初始化为空数组 */

            var found = false; /* 定义标志变量，用于标记是否找到相同商品 */
            for (var i = 0; i < cart.length; i++) { /* 遍历购物车中的所有商品 */
                if (cart[i].id === id) { /* 如果找到相同ID的商品 */
                    cart[i].quantity = cart[i].quantity + 1; /* 将该商品的数量加1 */
                    found = true; /* 设置找到标志为true */
                    break; /* 跳出循环 */
                } /* 条件判断结束 */
            } /* 循环结束 */

            if (!found) { /* 如果没有找到相同商品 */
                cart.push({ /* 向购物车数组添加新商品对象 */
                    id: id, /* 商品ID */
                    name: name, /* 商品名称 */
                    price: price, /* 商品价格 */
                    category: category, /* 商品分类 */
                    image: image, /* 商品图片路径 */
                    quantity: 1 /* 商品数量，初始为1 */
                }); /* 添加商品对象结束 */
            } /* 条件判断结束 */

            localStorage.setItem('cart', JSON.stringify(cart)); /* 将购物车数据转换为JSON字符串并保存到localStorage */
            updateCartCount(); /* 调用更新购物车数量函数 */
            showToast('已添加: ' + name); /* 调用显示提示函数，显示添加成功信息 */
        } /* 添加商品到购物车函数结束 */

        // ===== 更新购物车数量 ===== /* JavaScript单行注释：更新购物车数量功能说明 */
        function updateCartCount() { /* 定义更新购物车数量显示函数 */
            var cart = JSON.parse(localStorage.getItem('cart')) || []; /* 从localStorage获取购物车数据，如果为空则初始化为空数组 */
            var total = 0; /* 定义总数量变量，初始值为0 */
            for (var i = 0; i < cart.length; i++) { /* 遍历购物车中的所有商品 */
                total = total + cart[i].quantity; /* 累加每个商品的数量到总数量 */
            } /* 循环结束 */
            document.getElementById('cart-count').innerText = total; /* 获取购物车数量显示元素并更新其文本内容 */
        } /* 更新购物车数量显示函数结束 */

        // ===== 显示提示 ===== /* JavaScript单行注释：显示提示框功能说明 */
        function showToast(message) { /* 定义显示提示框函数，接收提示信息参数 */
            var toast = document.createElement('div'); /* 创建一个新的div元素作为提示框 */
            toast.className = 'toast'; /* 设置提示框的CSS类名 */
            toast.innerText = '✓ ' + message; /* 设置提示框的文本内容，包含勾号和提示信息 */
            document.getElementById('toast-container').appendChild(toast); /* 将提示框添加到提示框容器中 */
            setTimeout(function () { /* 设置延时函数，3秒后执行 */
                toast.remove(); /* 移除提示框元素 */
            }, 3000); /* 延时3000毫秒（3秒） */
        } /* 显示提示框函数结束 */

        // 页面加载时更新购物车数量 /* JavaScript单行注释：页面加载事件说明 */
        window.onload = function () { /* 设置页面加载完成时的事件处理函数 */
            updateCartCount(); /* 调用更新购物车数量函数 */
        }; /* 页面加载事件处理函数结束 */
    </script> <!-- JavaScript代码结束 -->

</body> <!-- 页面主体结束 -->

</html> <!-- HTML文档结束 -->